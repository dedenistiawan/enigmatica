<!DOCTYPE html>
<html lang="en" dir="ltr"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=4321&amp;path=livereload" data-no-instant defer></script>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.126.1">
<title>Troubleshooting Your Build | Alison Hill, PhD</title>


<meta property="twitter:site" content="@apreshill">
<meta property="twitter:creator" content="@apreshill">







  
    
  
<meta name="description" content="Inside you&#39;ll find my writing about products and projects I&#39;ve work on, along with my personal reflections about learning, teaching, and crafting kind tech tools.">


<meta property="og:site_name" content="Alison Hill, PhD">
<meta property="og:title" content="Troubleshooting Your Build | Alison Hill, PhD">
<meta property="og:description" content="Inside you&#39;ll find my writing about products and projects I&#39;ve work on, along with my personal reflections about learning, teaching, and crafting kind tech tools." />
<meta property="og:type" content="page" />
<meta property="og:url" content="http://localhost:4321/blog/2019-03-spoonful-troubleshooting/" />
<meta property="og:locale" content="en">




    
        <meta property="og:image" content="http://localhost:4321/blog/spoonful-hugo/sidebar.jpg" >
        <meta property="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="http://localhost:4321/blog/spoonful-hugo/sidebar.jpg" >
    
    
  
  <meta itemprop="name" content="Troubleshooting Your Build">
  <meta itemprop="description" content="A few troubleshooting strategies to save your sanity">
  <meta itemprop="datePublished" content="2019-03-04T00:00:00+00:00">
  <meta itemprop="dateModified" content="2019-03-04T00:00:00+00:00">
  <meta itemprop="wordCount" content="1708">
  <meta itemprop="keywords" content="Blogdown">
  
  


  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
  
  
  <link rel="stylesheet" href="/style.main.min.6041db9742a65e35bbf4deca356e7c1ea7aca5585ac63be9b81a26a5904c8540.css" integrity="sha256-YEHbl0KmXjW79N7KNW58HqespVhaxjvpuBompZBMhUA=" media="screen">
  
  
  <script src="/panelset.min.ed1ac24b6e16f4e2481e3d1d098ae66f5bc77438aef619e6e266d8ac5b00dc72.js" type="text/javascript"></script>
  
  
  <script src="/main.min.b44d2e2e796cd9f2dd491e942e73c70ef631d82d2eb9c52c6ac45a1dbf16a403.js" type="text/javascript"></script>
  
  <script data-goatcounter="https://alison.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
</head>
<body>
      <div class="grid-container single-series">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="http://localhost:4321/" title="Home">
      <img src="/img/penguin.png" class="dib db-l h2 w-auto" alt="Alison Hill, PhD">
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/about/" title="About Alison Hill">About</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="/blog/" title="Blog">Blog</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/project/" title="Project Portfolio">Projects</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/publication/" title="Publication">Publication</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/talk/" title="Talks">Talks</a>
      
      
    </div>
  </nav>
</header>

                       
<main class="page-main pa4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 pl3-l">
      <header class="post-header">
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">Troubleshooting Your Build</h1>
        
        <p class="f6 measure lh-copy mv1">By Alison Hill in <a href="http://localhost:4321/categories/hugo">hugo</a>  <a href="http://localhost:4321/categories/blogdown">blogdown</a> </p>
        <p class="f7 db mv0 ttu">March 4, 2019</p>
      </header>
      <section class="post-body pt5 pb4">
        <blockquote>
<p>&ldquo;Just a spoonful of Hugo helps the blog go down.&rdquo;</p>
<ul>
<li>me, only somewhat kidding</li>
</ul>
</blockquote>
<p>In this series, I&rsquo;m sharing small spoonfuls of Hugo that I have learned that hopefully can help you get your site <em>UP</em> (and even better- more efficient, more streamlined, more automated). You can read the previous posts about my &ldquo;Spoonful of Hugo&rdquo; series 
<a href="/post/2019-02-19-hugo-archetypes/">about Hugo archetypes</a>, 
<a href="/post/2019-02-19-hugo-netlify-toml/">Hugo versions</a>, and 
<a href="/post/2019-02-21-hugo-page-bundles/">Hugo page bundles</a>.</p>
<p>The following are a few steps that I always start with to troubleshoot any blogdown/Hugo/Netlify problems. These steps would solve what I would anecdotally estimate as ~50% of blogdown problems that I see posted in the 
<a href="https://github.com/rstudio/blogdown/issues" target="_blank" rel="noopener">GitHub repository</a> and on the 
<a href="https://community.rstudio.com/tags/blogdown" target="_blank" rel="noopener">community site</a>.</p>




<h2 id="1-update-hugo">#1: Update Hugo
  <a href="#1-update-hugo"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<div class="figure">
<img src="https://media.giphy.com/media/syCa5ird7wp0c/giphy.gif" alt="Don't be like this"  />
<p class="caption">Figure 1: Don't be like this</p>
</div>
<p>If things have gone south and you are getting Hugo errors when you use the &ldquo;Serve Site&rdquo; Addin locally, it is possible that you need to update your version of Hugo. From R, you can check your Hugo version with blogdown:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>blogdown<span style="color:#000;font-weight:bold">::</span><span style="color:#900;font-weight:bold">hugo_version</span>()
</span></span></code></pre></div><p>Then you can reference your 
<a href="https://themes.gohugo.io/" target="_blank" rel="noopener">Hugo theme</a> to find the minimum version of Hugo required by your theme:</p>
<div class="figure">
<img src="hugo-min-version.png" alt="Check your theme's minimum Hugo version" width="1073" />
<p class="caption">Figure 2: Check your theme's minimum Hugo version</p>
</div>
<p>You can go higher than the minimum version though, so it&rsquo;s good practice to update your Hugo, again from within R:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>blogdown<span style="color:#000;font-weight:bold">::</span><span style="color:#900;font-weight:bold">update_hugo</span>()
</span></span></code></pre></div><p>Check your version again post-update:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>blogdown<span style="color:#000;font-weight:bold">::</span><span style="color:#900;font-weight:bold">hugo_version</span>()
</span></span></code></pre></div><pre tabindex="0"><code>## [1] &#39;0.80.0&#39;
</code></pre><p>If you are using Netlify to build your site using Hugo, you&rsquo;ll want this version to match that- the best way to do that is with a 
<a href="/post/2019-02-19-hugo-netlify-toml/">netlify.toml file</a>.</p>




<h2 id="2-change-the-baseurl">#2: Change the baseurl
  <a href="#2-change-the-baseurl"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p><img src="https://media.giphy.com/media/zG6MKhlBxIloc/giphy.gif" alt=""><!-- --></p>
<p>Open up your <code>config.toml</code> file and look for the <code>baseurl</code> field, usually pretty close to the top. Here is mine^[Yes that&rsquo;s right, I don&rsquo;t have a trailing slash- read on for why I can get away with this.]:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>baseurl = <span style="color:#d14">&#34;https://alison.rbind.io&#34;</span>
</span></span></code></pre></div><p>Now if you are just starting with Hugo and don&rsquo;t <em>actually</em> have a domain name yet, try taking the advice that blogdown automatically prints out for you:</p>
<pre tabindex="0"><code>Warning: You should change the &#34;baseurl&#34; option in config.toml 
from https://example.org to your actual domain; 
if you do not have a domain, set &#34;baseurl&#34; to &#34;/&#34;
</code></pre><p>But be careful here- you shouldn&rsquo;t leave it as &ldquo;/&rdquo;- once you do have your domain name you should update the baseurl as &ldquo;/&rdquo; is a not a valid URL.</p>




<h3 id="care-to-know-more">Care to know more?
  <a href="#care-to-know-more"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Here is a quote from the person who writes the Hugo docs:</p>
<blockquote>
<p>&ldquo;&hellip;the only purpose for the baseurl field in the config is to define the full base URL of your website for deployment purposes.&rdquo; - @
<a href="https://discourse.gohugo.io/t/how-not-to-specify-url-site/5691/7" target="_blank" rel="noopener">rdwatters</a></p>
</blockquote>
<p>The main error that would happen without the trailing slash in the past is that you would end up with a site where the theme&rsquo;s CSS would be all wrong. This was probably because the theme designer used code like this buried in a layout file:</p>
<pre tabindex="0"><code>&lt;link rel=&#34;stylesheet&#34; href=&#34;{{ .Site.BaseURL }}css/style.css&#34;/&gt;
</code></pre><p>Now, if you set <code>baseurl = &quot;http://mysite.com&quot;</code> but only rendered locally, things would look just peachy, because the default local server already included the trailing slash. So, the link in the html file would be^[https://discourse.gohugo.io/t/how-not-to-specify-url-site/5691/5]:</p>
<pre tabindex="0"><code>&lt;link rel=&#34;stylesheet&#34; href=&#34;http://localhost:1313/css/style.css&#34;&gt;
</code></pre><p>But, at build, the link in the html file would turn into:</p>
<pre tabindex="0"><code>&lt;link rel=&#34;stylesheet&#34; href=&#34;http://mysite.comcss/style.css&#34;&gt;
</code></pre><p>Which creates sites that look like this:</p>
<div class="figure">
<img src="https://user-images.githubusercontent.com/47527626/52856178-f37a3680-3123-11e9-9b26-6500efac7404.png" alt="Hugo tranquil peak theme"  />
<p class="caption">Figure 3: Hugo tranquil peak theme</p>
</div>
<p>
<a href="https://github.com/rstudio/blogdown/issues/369" target="_blank" rel="noopener">GitHub issue #369</a></p>
<div class="figure">
<img src="https://user-images.githubusercontent.com/18710907/27711864-820dc59a-5cf2-11e7-99c8-b9b7e7f46ab3.png" alt="Hugo universal theme"  />
<p class="caption">Figure 4: Hugo universal theme</p>
</div>
<p>
<a href="https://github.com/rstudio/blogdown/issues/131" target="_blank" rel="noopener">GitHub issue #131</a></p>
<p><img src="https://cloud.githubusercontent.com/assets/4596214/26549134/7e3968fe-4445-11e7-90b1-87dd4ac2c1c0.png" alt=""><!-- --></p>
<p>
<a href="https://github.com/rstudio/blogdown/issues/114" target="_blank" rel="noopener">GitHub issue #114</a></p>
<p>However, Hugo authors and theme developers have largely been moving towards using relative URLs instead of the baseurl to build paths. This was based on public advice voiced by the Hugo authors on the discourse forum. For example:</p>
<blockquote>
<p>&ldquo;The recommended way to reference resources is to use either relURL or absURL template funcs, which handles the slash issues.&rdquo;- @
<a href="https://discourse.gohugo.io/t/0-19-to-0-30-2-baseurl-forward-slash-is-required/9206" target="_blank" rel="noopener">bep</a></p>
</blockquote>
<p>Following that advice, a more up-to-date theme would have code that looks like this buried in a layout file:</p>
<pre tabindex="0"><code>&lt;link rel=&#34;stylesheet&#34; href=&#34;{{ &#34;css/style.css&#34; | relURL }}&#34;/&gt;  → 
</code></pre><p>Bottom line? If your theme uses <code>relURL</code> or <code>absURL</code> to link to site resources like CSS, JavaScript, or static images, then whether or not you include a trailing slash in your baseurl should not matter at all.</p>
<p>And here is some tough love about your theme: if the most recent version <em>does</em> still require the trailing slash in the <code>baseurl</code> to &ldquo;work&rdquo; out of the box, I would seriously consider switching themes. This is a pretty good &ldquo;canary in the coal mine&rdquo; test regarding how up-to-date the theme author is, and how well the theme you have chosen adheres to Hugo templating best practices. If you are having pain with this now, it is likely not the only thing that will be painful about working with your theme.</p>




<h2 id="3-netlify-drag-and-drop">#3: Netlify drag-and-drop
  <a href="#3-netlify-drag-and-drop"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p><img src="https://media.giphy.com/media/DfbpTbQ9TvSX6/giphy.gif" alt=""></p>
<p>If you can render your site locally but your published site looks different, try the drag-and-drop method:</p>
<p><img src="https://arm.rbind.io/slides/img/netlify-new-site.png" alt=""></p>
<p>Use the &ldquo;Serve Site&rdquo; Addin, then drag-and-drop the <code>public/</code> folder straight into Netlify. What does this do? You can now see your public site&hellip;that you built&hellip;with your local version of Hugo. Netlify is doing none of the site building here.</p>
<p><img src="index_files/figure-html/unnamed-chunk-10-1.gif" alt=""><!-- --></p>
<p>One of the first benefits of this approach is that it ensures that you are able to actually <em>generate</em> a <code>public/</code> folder locally! I have seen folks struggle to deploy the wrong repo. This simple step can force you to make sure to use the &ldquo;Serve Site&rdquo; Addin to generate the <code>public/</code> folder, and that the repo you are trying to link to Netlify actually contains a Hugo site because you must physically move the <code>public/</code> folder. But this method can also help you diagnose other problems too.</p>
<p>If your <code>public/</code> folder <strong>does not render</strong> on Netlify, you have work to do locally. I can&rsquo;t tell you what it is as it can be a number of things, but you can be sure that your problem is not just the Netlify build- it is your local build too.</p>
<p>If your <code>public/</code> folder <strong>does render</strong> perfectly on Netlify, but you are getting a Netlify build error, then you likely have a Hugo version problem. It might be that the version you are running locally is more recent than the version run by Netlify by default to actually build your site. The good news is there is a quick fix for this! The solution is to upgrade the Hugo version Netlify is using- see my advice 
<a href="/post/2019-02-19-hugo-netlify-toml/">here for how to do that</a>.</p>
<p>If you are happy with how your site looks but you are missing content and/or seeing old deleted content, then you may need the next few strategies to troubleshoot.</p>




<h2 id="4-torch-public">#4: Torch <code>public/</code>
  <a href="#4-torch-public"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p><img src="https://media.giphy.com/media/YA6dmVW0gfIw8/giphy.gif" alt=""></p>
<p>When you are seeing very weird things locally, try deleting your local <code>public/</code> folder. Then serve site again. Sometimes it can get &ldquo;junked up&rdquo;. I&rsquo;ve found that sometimes deleted content can be a 
<a href="https://community.rstudio.com/t/deleted-blog-post-still-showing-up-on-blogdown-website-in-index-html/14107" target="_blank" rel="noopener">little sticky</a>. As recommended in the 
<a href="https://bookdown.org/yihui/blogdown/local-preview.html" target="_blank" rel="noopener">blogdown book</a>:</p>
<blockquote>
<p>&ldquo;you are strongly recommended to delete the <code>/public/</code> directory before you rebuild the site for publishing every time, because Hugo never deletes it&rdquo;</p>
</blockquote>
<p>Also, this has a bonus of reinforcing for you exactly what the &ldquo;Serve Site&rdquo; Addin <em>does</em> - it regenerates the <code>public/</code> folder. This is also the folder that, if you are using 
<a href="post/2019-02-19-hugo-netlify-toml/">Netlify to build your site</a>, is in your <code>.gitignore</code> file because Netlify (+ Hugo) generates this file &ldquo;fresh&rdquo; with each push to your GitHub repository.</p>
<p><img src="index_files/figure-html/unnamed-chunk-11-1.gif" alt=""><!-- --></p>




<h2 id="5-peruse-public">#5: Peruse <code>public/</code>
  <a href="#5-peruse-public"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p><img src="https://media.giphy.com/media/NS7gPxeumewkWDOIxi/giphy.gif" alt=""></p>
<p>When you notice weird things, try actually looking inside <code>public/</code>- don&rsquo;t be afraid to spelunk around in there! If you are seeing something wrong with your site, try to figure out how blogdown/Hugo is processing and rendering your content. This folder can tell you a lot! Keep in mind that your local <code>public/</code> folder will still contain 
<a href="#dates">future/draft/expired content</a> if you used the &ldquo;Serve Site&rdquo; Addin.</p>




<h2 id="dates">#6: Back to the future
  <a href="#dates"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<div class="figure">
<img src="https://media.giphy.com/media/ek6obDm0IwjNm/giphy.gif" alt="Where are my posts?"  />
<p class="caption">Figure 5: Where are my posts?</p>
</div>
<p>If your site renders beautifully locally, and your drag-and-drop site from <code>public/</code> looks the same, but you are missing key content when you actually deploy to Netlify using a Hugo build, you may have inadvertently stumbled into a Hugo date time warp. This is a fairly 
<a href="https://community.rstudio.com/t/serve-site-working-but-posts-dont-show-up-on-github-io/11254/3" target="_blank" rel="noopener">common gotcha</a>. Try using the drag-and-drop method again, this time first delete <code>public/</code>, then instead of using the &ldquo;Serve Site&rdquo; Addin, run this in your console:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>blogdown<span style="color:#000;font-weight:bold">::</span><span style="color:#900;font-weight:bold">build_site</span>(local <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">FALSE</span>)
</span></span></code></pre></div><p>Plop this <em>new</em> public folder in Netlify to see what your site will look like when it is actually published. What does this show you? Your local Hugo build (read: your <code>public/</code> folder generated by &ldquo;Serve Site&rdquo;) differs <em>by design</em> in 3 important ways from your deployed site built by Netlify/Hugo. By default, 
<a href="https://gohugo.io/getting-started/usage/#draft-future-and-expired-content" target="_blank" rel="noopener">Hugo will not publish</a>:</p>
<ul>
<li>
<p>Content with a future <code>publishDate</code> value</p>
</li>
<li>
<p>Content with <code>draft: true</code> status</p>
</li>
<li>
<p>Content with a past <code>expiryDate</code> value</p>
</li>
</ul>
<p>You can see that these are 
<a href="https://gohugo.io/getting-started/configuration/" target="_blank" rel="noopener">defaults</a>. The behavior of the &ldquo;Serve Site&rdquo; Addin is also documented in the 
<a href="https://bookdown.org/yihui/blogdown/local-preview.html" target="_blank" rel="noopener">blogdown book</a>:</p>
<blockquote>
<p>&ldquo;This is for you to preview draft and future posts locally.&rdquo;</p>
</blockquote>
<p>Blogdown&rsquo;s <code>build_site(local = FALSE)</code> differs from the &ldquo;Serve Site&rdquo; Addin in that it <em>will not</em> render draft, future, or expired content. So your <code>public/</code> folder from <code>build_site(local = FALSE)</code> shows you <strong>exactly</strong> what Netlify <strong>should</strong> publish. Seeing it can help you troubleshoot why some content was showing up locally but not when you publish.</p>
<p>The defaults are pretty sensible and nice to have, as you can still put these kinds of content under version control, and hence collaborate with other team members on the content without having the content publish (or expire) until you <strong>say so</strong>.</p>
<p>To show content that Hugo was hiding, you&rsquo;ll want to edit some YAML fields in the individual offending content files. For example, in the YAML of an individual content file (like a blog post), if you want to un-draft it, add or change this key/value:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#000080">title: &#39;A Spoonful of Hugo</span>:<span style="color:#bbb"> </span>Troubleshooting your Build&#39;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">author</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#34;Alison Hill&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">date</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;2019-03-04&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">draft</span>:<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">false</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Alternatively, if you want to date something in the future (like to advertise the date of an upcoming talk) but publish now, you can use the <code>publishDate</code> field. The <code>publishDate</code> field is a newer addition to Hugo (&gt;= v0.54.0) which, if left unset, will default to the <code>date</code> field, which means in the individual content file YAML you can do:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#000080">title: &#39;A Spoonful of Hugo</span>:<span style="color:#bbb"> </span>Get excited!!&#39;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">author</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#34;Alison Hill&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">date</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;2025-03-04&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">publishDate</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;2019-03-04&#39;</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Hopefully these 6 things can help you get unstuck. If not, the 
<a href="https://community.rstudio.com/tags/blogdown" target="_blank" rel="noopener">RStudio community forums</a> are a great place to ask questions!</p>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
    <a class="prev dtc pr2 tl v-top fw6"
    href="http://localhost:4321/blog/2020-12-how-much-hugo/">&larr; How much Hugo do I need to know?</a>
  
  
  
    <a class="next dtc pl2 tr v-top fw6"
    href="http://localhost:4321/blog/2019-02-spoonful-archetypes/">Hugo Archetypes &rarr;</a>
  
</div>

      </footer>
    </article>
    
      <div class="post-comments pa0 pa4-l mt4">
  
      
        <script src="https://giscus.app/client.js"
            data-repo=rbind/apreshill
            data-repo-id=MDEwOlJlcG9zaXRvcnk5MTAwNTYxNQ&#61;&#61;
            data-category=Comments
            data-category-id=DIC_kwDOBWyir84CfrDg
            data-mapping=pathname
            data-reactions-enabled=1
            data-emit-metadata=0
            data-theme=light_protanopia
            data-lang=en
            crossorigin="anonymous"
            async>
        </script>
      
  
</div>

    
  </section>
</main>

<aside class="page-sidebar" role="complementary">
                         
 


                       
 











  <img src="/blog/spoonful-hugo/sidebar.jpg" class="db ma0">


<div class="blog-info ph4 pt4 pb4 pb0-l">
  

  <h1 class="f3">A Spoonful of Hugo</h1>
  <p class="f6 lh-copy measure">Small spoonfuls of Hugo I collect that may help you get your site up and running even better: more efficient, more streamlined, more automated.</p>
  <p class="f7 measure lh-copy i mh0-l">Written by Alison Hill</p>


  

</div>





                         
 



<div class="flex items-start sticky ph4 pb4">
  <div class="w-two-thirds w-50-l ph0">
    
    <h2 class="mt3 mb3 f5 fw7 ttu tracked"><a class="no-underline dim" href="/blog/spoonful-hugo/">In this series</a></h2>
    <nav id="SeriesTableOfContents">
        <ul>
        
          
          <li class="" hugo-nav="/blog/2019-02-spoonful-netlify-toml/"><a href="http://localhost:4321/blog/2019-02-spoonful-netlify-toml/">The netlify.toml File</a></li>
        
          
          <li class="" hugo-nav="/blog/2019-02-spoonful-bundles/"><a href="http://localhost:4321/blog/2019-02-spoonful-bundles/">Hugo Page Bundles</a></li>
        
          
          <li class="" hugo-nav="/blog/2020-12-how-much-hugo/"><a href="http://localhost:4321/blog/2020-12-how-much-hugo/">How much Hugo do I need to know?</a></li>
        
          
          <li class="active" hugo-nav="/blog/2019-03-spoonful-troubleshooting/"><a href="http://localhost:4321/blog/2019-03-spoonful-troubleshooting/">Troubleshooting Your Build</a></li>
        
          
          <li class="" hugo-nav="/blog/2019-02-spoonful-archetypes/"><a href="http://localhost:4321/blog/2019-02-spoonful-archetypes/">Hugo Archetypes</a></li>
        
        </ul>
      </nav>
  </div>
  <details open id="PageTableOfContents">
    <summary><h2 class="mv0 f5 fw7 ttu tracked dib">On this page</h2></summary>
    <div class="pl2 pr0 mh0">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#1-update-hugo">#1: Update Hugo</a></li>
    <li><a href="#2-change-the-baseurl">#2: Change the baseurl</a></li>
    <li><a href="#3-netlify-drag-and-drop">#3: Netlify drag-and-drop</a></li>
    <li><a href="#4-torch-public">#4: Torch <code>public/</code></a></li>
    <li><a href="#5-peruse-public">#5: Peruse <code>public/</code></a></li>
    <li><a href="#dates">#6: Back to the future</a></li>
  </ul>
</nav>
    </div>
  </details>
  
</div>
</aside>

<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      &copy; 2025 Alison Hill
      <span class="middot-divider"></span>
      Made with <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Apéro</a></span>.
      <br />
      
Based on <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.
    </p>
    
    <div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0">
      <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/dedenistiawan" title="github" target="_blank" rel="me noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/deden-istiawan-149806255/" title="linkedin-in" target="_blank" rel="me noopener">
      <i class="fab fa-linkedin-in fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://bsky.app/profile/" title="bluesky" target="_blank" rel="me noopener">
      <i class="fab fa-bluesky fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.youtube.com/" title="youtube" target="_blank" rel="me noopener">
      <i class="fab fa-youtube fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://twitter.com/dedenistiawan" title="x-twitter" target="_blank" rel="me noopener">
      <i class="fab fa-x-twitter fa-lg fa-fw"></i>
    </a>
  
</div>

    </div>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
      <a class="dib pv1 ph2 link" href="/license/" title="License">License</a>
      
      <a class="dib pv1 ph2 link" href="/contact/" title="Contact form">Contact</a>
      
      <a class="dib pv1 ph2 link" href="/blog/index.xml" title="RSS">RSS</a>
      
    </div>
  </nav>
  
</footer>

      </div>
    </body>
</html>
